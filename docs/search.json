[{"path":"https://jorales.github.io/clinical-trial-simulator-R/articles/intro-clinical-trial-simulator.html","id":"simulating-patient-characteristics","dir":"Articles","previous_headings":"","what":"Simulating Patient Characteristics","title":"Intro to Clinical Trial Simulator","text":"First, simulate baseline patient demographics site information. example, simulate 100 patients across 2 countries (5 sites per country). patient ID, assigned country site, attributes like age sex. row represents patient demographic information. see columns ID, Country, Site, Age, Sex. serve starting point simulations. ##Treatment Allocation Next, randomize patients treatment groups. Let’s assume two-arm trial equal allocation placebo active drug. output shows distribution patients “Placebo” “Drug” arms updated data frame now includes Arm column indicating patient’s assigned group. ##Simulating Survival (Time--Event) Outcome Suppose primary endpoint time--event outcome (e.g., overall survival). simulate survival times specified median placebo group hazard ratio drug group. assume placebo median survival 24 months drug expected improve survival hazard ratio 0.6 (.e., 40% reduction hazard). also define maximum study follow-36 months. EventTime column represents either time event (event occurred) censoring time (patient event end follow-). EventStatus 1 event occurred, 0 time censoring time (e.g., patient event-free study end dropped event simulate next). contingency table shows many events (1) censored observations (0) occurred arm; expect fewer events Drug arm due hazard reduction. ##Simulating Dropouts Patients may drop trial (reasons like loss follow-withdrawal due adverse events). simulate dropouts 30% patients withdraw 36 months. also illustrate original feature: increasing dropout risk patients experience serious adverse event (AE). Let’s say 20% patients simulated serious AE, patients twice hazard dropout. can see SeriousAE flag indicating patients adverse event DropoutTime Dropped columns indicating patients left study. first table shows number dropouts (Dropped=TRUE) arm, second table illustrates patients serious AEs tend higher dropout rate (rows SeriousAE=TRUE likely show dropouts). Note: Patients died (event) drop treated dropped. simulation logic censors survival time dropout dropout occurs first, ignores dropout event occurred first. Thus, patient’s timeline appropriately handled.","code":"# Simulate baseline data for 100 patients in 2 countries with 5 sites each patients <- simulate_patients(n = 100, countries = 2, sites_per_country = 5,                               mean_age = 50, sd_age = 10, prop_female = 0.5) # Inspect first few patients head(patients, 10) ##    ID  Country   Site Age    Sex ## 1   1 Country1  Site3  54 Female ## 2   2 Country1  Site3  46   Male ## 3   3 Country2 Site10  56   Male ## 4   4 Country1  Site2  48 Female ## 5   5 Country2  Site6  53   Male ## 6   6 Country1  Site5  61   Male ## 7   7 Country1  Site4  54   Male ## 8   8 Country2  Site6  47   Male ## 9   9 Country2  Site9  61   Male ## 10 10 Country2 Site10  60   Male # Randomly allocate patients to two arms: Placebo vs Drug (1:1 ratio) patients <- simulate_allocation(patients, arm_names = c(\"Placebo\", \"Drug\"), ratio = c(1, 1)) table(patients$Arm) ##  ## Placebo    Drug  ##      49      51 head(patients, 5) ##   ID  Country   Site Age    Sex     Arm ## 1  1 Country1  Site3  54 Female    Drug ## 2  2 Country1  Site3  46   Male    Drug ## 3  3 Country2 Site10  56   Male Placebo ## 4  4 Country1  Site2  48 Female    Drug ## 5  5 Country2  Site6  53   Male    Drug # Simulate survival times (e.g., overall survival) with median 24 for placebo and HR 0.6 for drug patients <- simulate_survival(patients, median_time_control = 24, hr = 0.6, study_duration = 36) # Check a summary of event status by arm with(patients, table(Arm, EventStatus)) ##          EventStatus ## Arm        0  1 ##   Placebo 21 28 ##   Drug    24 27 head(patients[c(\"ID\",\"Arm\",\"EventTime\",\"EventStatus\")], 10) ##    ID     Arm EventTime EventStatus ## 1   1    Drug 31.079753           1 ## 2   2    Drug 36.000000           0 ## 3   3 Placebo 10.405513           1 ## 4   4    Drug 17.747074           1 ## 5   5    Drug 36.000000           0 ## 6   6 Placebo 21.626910           1 ## 7   7    Drug  5.427236           1 ## 8   8 Placebo 13.279536           1 ## 9   9    Drug 10.094406           1 ## 10 10 Placebo 36.000000           0 # Simulate dropouts: 30% dropout rate by 36 months # 20% of patients have a serious AE which doubles their dropout hazard patients <- simulate_dropout(patients, dropout_rate = 0.3, study_duration = 36,                              p_ae = 0.2, dropout_hr_ae = 2) # Inspect dropout and AE columns with(patients, table(Arm, Dropped)) ##          Dropped ## Arm       FALSE TRUE ##   Placebo    36   13 ##   Drug       35   16 with(patients, table(SeriousAE, Dropped)) ##          Dropped ## SeriousAE FALSE TRUE ##     FALSE    59   20 ##     TRUE     12    9 head(patients[c(\"ID\",\"Arm\",\"SeriousAE\",\"DropoutTime\",\"Dropped\")], 10) ##    ID     Arm SeriousAE DropoutTime Dropped ## 1   1    Drug     FALSE   18.147944    TRUE ## 2   2    Drug      TRUE    6.225057    TRUE ## 3   3 Placebo     FALSE          NA   FALSE ## 4   4    Drug     FALSE          NA   FALSE ## 5   5    Drug     FALSE   21.314232    TRUE ## 6   6 Placebo     FALSE    5.307033    TRUE ## 7   7    Drug     FALSE          NA   FALSE ## 8   8 Placebo     FALSE          NA   FALSE ## 9   9    Drug     FALSE          NA   FALSE ## 10 10 Placebo     FALSE          NA   FALSE"},{"path":"https://jorales.github.io/clinical-trial-simulator-R/articles/intro-clinical-trial-simulator.html","id":"simulating-longitudinal-outcomes","dir":"Articles","previous_headings":"","what":"Simulating Longitudinal Outcomes","title":"Intro to Clinical Trial Simulator","text":"Now let’s simulate longitudinal outcome, example biomarker measured clinic visits time. ’ll assume visits baseline every 6 months 24 months (0, 6, 12, 18, 24). also incorporate treatment effect biomarker: perhaps biomarker decreases time treatment group compared placebo. set scenario placebo group stays roughly constant average, treatment group sees improvement (decrease) 1 unit every 6 months. also include random site effect demonstrate multi-level data (site random offset biomarker). visit_data, patient multiple rows (one per visit) Outcome value biomarker. Arm, Site, Country columns provide context measurement. Patients dropped died certain visits entries later times (e.g., patient dropped month 18, see 24-month record ). can examine treatment effect comparing biomarker values baseline 24 months arm: expect baseline means roughly equal (design), 24 months Drug arm lower mean outcome (indicating improvement) compared Placebo. random site effect error add variability, average trends.","code":"# Define planned visit times (months) visit_schedule <- c(0, 6, 12, 18, 24) # Generate the schedule of visits for each patient (accounting for dropouts and deaths) visits <- simulate_visits(patients, visit_times = visit_schedule) # Simulate longitudinal biomarker outcomes: # baseline mean = 100, control group slope ~ 0 per month, treatment slope = -0.2 per month (improvement), # measurement error SD = 5, and random site intercept SD = 3. visit_data <- simulate_longitudinal_outcomes(visits, patients,                                              baseline_mean = 100, baseline_sd = 10,                                              control_slope = 0, treatment_slope = -0.2,                                              error_sd = 5,                                              cluster_var = \"Site\", cluster_effect_sd = 3) # Look at some longitudinal data points head(visit_data, 10) ##    ID Time     Arm   Site  Country   Outcome ## 1   1    0    Drug  Site3 Country1  98.27484 ## 2   1    6    Drug  Site3 Country1 111.83072 ## 3   1   12    Drug  Site3 Country1  95.44381 ## 4   1   18    Drug  Site3 Country1  98.60257 ## 5   2    0    Drug  Site3 Country1  99.38935 ## 6   2    6    Drug  Site3 Country1 101.99665 ## 7   3    0 Placebo Site10 Country2  98.83889 ## 8   3    6 Placebo Site10 Country2 104.58937 ## 9   4    0    Drug  Site2 Country1  96.50052 ## 10  4    6    Drug  Site2 Country1 100.27258 # Baseline and final visit outcomes by treatment arm baseline_data <- subset(visit_data, Time == 0) final_data <- subset(visit_data, Time == 24) cat(\"Mean outcome at baseline by arm:\\n\") ## Mean outcome at baseline by arm: print(tapply(baseline_data$Outcome, baseline_data$Arm, mean)) ##  Placebo     Drug  ## 99.19378 99.88680 cat(\"Mean outcome at 24 months by arm:\\n\") ## Mean outcome at 24 months by arm: print(tapply(final_data$Outcome, final_data$Arm, mean)) ##  Placebo     Drug  ## 97.94677 98.08435"},{"path":"https://jorales.github.io/clinical-trial-simulator-R/articles/intro-clinical-trial-simulator.html","id":"simulating-a-binary-outcome","dir":"Articles","previous_headings":"","what":"Simulating a Binary Outcome","title":"Intro to Clinical Trial Simulator","text":"illustration, let’s also simulate binary endpoint, overall response (Yes/) end study. assume, example, 40% response rate placebo group 60% response rate drug group. ’ll add single outcome per patient. output shows number responders (“Yes”) vs non-responders (“”) arm. simulation assigns “Yes”/“” taking account specified probabilities. Note patients dropped died Outcome set NA (missing), complete study measured response.","code":"# Simulate a binary outcome (e.g., treatment response) patients <- simulate_outcomes(patients, outcome_type = \"binary\",                               outcome_prob_control = 0.4, outcome_prob_treatment = 0.6) # Response rates by arm with(patients, table(Arm, Outcome)) ##          Outcome ## Arm       No Yes ##   Placebo  9   4 ##   Drug     5  11 head(patients[c(\"ID\",\"Arm\",\"Outcome\")], 10) ##    ID     Arm Outcome ## 1   1    Drug    <NA> ## 2   2    Drug    <NA> ## 3   3 Placebo    <NA> ## 4   4    Drug    <NA> ## 5   5    Drug    <NA> ## 6   6 Placebo    <NA> ## 7   7    Drug    <NA> ## 8   8 Placebo    <NA> ## 9   9    Drug    <NA> ## 10 10 Placebo      No"},{"path":"https://jorales.github.io/clinical-trial-simulator-R/articles/intro-clinical-trial-simulator.html","id":"creating-the-adsl-dataset","dir":"Articles","previous_headings":"","what":"Creating the ADSL Dataset","title":"Intro to Clinical Trial Simulator","text":"Finally, compile simulated data single subject-level analysis dataset (ADSL). include one row per patient baseline info, treatment, outcomes. adsl data frame contains columns like STUDYID (study identifier), USUBJID (unique subject ID), treatment Arm, demographic variables (Age, Sex, etc.), various outcomes: - EventTime EventStatus (time--event outcome censoring status), - DropoutTime Dropped (dropout information), - Outcome (binary response outcome case). patient’s row aggregates relevant information. example, patient died trial, EventStatus=1 EventTime happened; patient dropped , Dropped=TRUE DropoutTime given (Outcome may NA due missing data dropout).","code":"adsl <- export_adam_format(patients, study_id = \"SIMTRIAL01\") # Examine the first few records of ADSL head(adsl, 5) ##      STUDYID      USUBJID ID  Country   Site     Arm Age    Sex SeriousAE ## 1 SIMTRIAL01 SIMTRIAL01-1  1 Country1  Site3    Drug  54 Female     FALSE ## 2 SIMTRIAL01 SIMTRIAL01-2  2 Country1  Site3    Drug  46   Male      TRUE ## 3 SIMTRIAL01 SIMTRIAL01-3  3 Country2 Site10 Placebo  56   Male     FALSE ## 4 SIMTRIAL01 SIMTRIAL01-4  4 Country1  Site2    Drug  48 Female     FALSE ## 5 SIMTRIAL01 SIMTRIAL01-5  5 Country2  Site6    Drug  53   Male     FALSE ##   DropoutTime Dropped EventTime EventStatus Outcome ## 1   18.147944    TRUE 18.147944           0    <NA> ## 2    6.225057    TRUE  6.225057           0    <NA> ## 3          NA   FALSE 10.405513           1    <NA> ## 4          NA   FALSE 17.747074           1    <NA> ## 5   21.314232    TRUE 21.314232           0    <NA>"},{"path":"https://jorales.github.io/clinical-trial-simulator-R/articles/intro-clinical-trial-simulator.html","id":"conclusion","dir":"Articles","previous_headings":"","what":"Conclusion","title":"Intro to Clinical Trial Simulator","text":"simulated complete clinical trial dataset. clinicalTrialSimulator package allowed us generate: - Demographics multi-level site data, - Treatment assignments, - Time--event outcomes treatment effect, - Dropouts including triggered adverse events, - Longitudinal repeated measures treatment site effects, - binary endpoint, - compiled ADSL dataset analysis.","code":""},{"path":"https://jorales.github.io/clinical-trial-simulator-R/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Jorge Alcántara. Author, maintainer.","code":""},{"path":"https://jorales.github.io/clinical-trial-simulator-R/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Alcántara J (2025). clinicalTrialSimulator: Clinical Trial Data Simulation CDISC-Compatible Format. R package version 1.0.0, https://jorales.github.io/clinical-trial-simulator-R/.","code":"@Manual{,   title = {clinicalTrialSimulator: Clinical Trial Data Simulation in CDISC-Compatible Format},   author = {Jorge Alcántara},   year = {2025},   note = {R package version 1.0.0},   url = {https://jorales.github.io/clinical-trial-simulator-R/}, }"},{"path":"https://jorales.github.io/clinical-trial-simulator-R/index.html","id":"clinicaltrialsimulator","dir":"","previous_headings":"","what":"Clinical Trial Data Simulation in CDISC-Compatible Format","title":"Clinical Trial Data Simulation in CDISC-Compatible Format","text":"modular R package simulating realistic clinical trial datasets, including patient generation, treatment allocation, outcomes (continuous, binary, ordinal, longitudinal), survival, dropout, adverse events, ADaM-compatible export. 🚀 Features 📋 Patient simulation demographic stratified characteristics ⚖️ Flexible treatment allocation customizable randomization ratios 📈 Outcome simulation: continuous, binary, ordinal, longitudinal 💀 Survival endpoint generation censoring 🚪 Dropout modeling, including AE-related dropout logic ❗ Adverse event simulation treatment arm severity 🌍 Multilevel support (e.g., site, region, country-level simulation) 📤 Export CDISC ADaM-like ADSL format 🧪 Analysis flags: ITT, SAF, PPS 📦 Designed SAP prototyping, training, simulation-based power analysis 📦 Installation Install GitHub using devtools:","code":""},{"path":"https://jorales.github.io/clinical-trial-simulator-R/index.html","id":"installpackagesdevtools","dir":"","previous_headings":"","what":"install.packages(“devtools”)","title":"Clinical Trial Data Simulation in CDISC-Compatible Format","text":"🔧 Requirements R version ≥ 4.1.0 Suggested packages: tidyverse survival lubridate data.table glue testthat (unit testing) roxygen2, devtools, pkgdown (development) Install dependencies : 🧰 Main Functions Function Purpose simulate_patients() Generate baseline demographic data (age, sex, stratification, site) simulate_allocation() Assign treatments ratio stratification simulate_outcomes() Simulate outcomes (continuous, binary, ordinal, longitudinal) simulate_survival() Generate survival times censoring simulate_dropout() Assign dropout flags dropout times simulate_adverse_events() Simulate adverse events per arm severity simulate_post_dropout_followup() Generate visit windows post-dropout censoring export_adam_format() Export dataset ADaM-like ADSL format 📖 Vignette See full simulation workflow package vignette: Includes: Full pipeline patient generation ADSL export Longitudinal outcome simulation AE-triggered dropout scenarios Site-level simulation 🧪 Testing Unit tests included using testthat. run tests: 🛠 Roadmap Planned features v1.1 beyond: Export additional ADaM domains (ADAE, ADLB, ADVS) Integration Shiny interactive simulation Quarto reporting templates AE-based discontinuation logic GUI-powered parameter input non-programmers 📜 License package released MIT License. Feel free use, modify, distribute attribution. 🙋 Contributing & Feedback welcome suggestions, feature requests, collaborators! 🔗 Citation (example) Alcántara J. (2025). clinicalTrialSimulator: Modular Clinical Trial Data Simulation R. Version 1.0. https://github.com/JorAlEs/clinicalTrialSimulator","code":"devtools::install_github(\"JorAlEs/clinicalTrialSimulator\") install.packages(c(\"tidyverse\", \"survival\", \"lubridate\", \"data.table\", \"glue\")) vignette(\"clinicalTrialSimulator_workflow\") devtools::test()"},{"path":"https://jorales.github.io/clinical-trial-simulator-R/reference/export_adam_format.html","id":null,"dir":"Reference","previous_headings":"","what":"Export an ADaM-style ADSL dataset — export_adam_format","title":"Export an ADaM-style ADSL dataset — export_adam_format","text":"function compiles subject-level data format analogous ADaM ADSL dataset (one record per subject). includes key baseline outcome variables patient.","code":""},{"path":"https://jorales.github.io/clinical-trial-simulator-R/reference/export_adam_format.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Export an ADaM-style ADSL dataset — export_adam_format","text":"","code":"export_adam_format(data, study_id = \"STUDY1\")"},{"path":"https://jorales.github.io/clinical-trial-simulator-R/reference/export_adam_format.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Export an ADaM-style ADSL dataset — export_adam_format","text":"data data frame containing patient-level data (simulation allocation, outcomes, etc.). typically data frame calling simulation functions. study_id Character, identifier study (used construct STUDYID USUBJID). Default \"STUDY1\".","code":""},{"path":"https://jorales.github.io/clinical-trial-simulator-R/reference/export_adam_format.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Export an ADaM-style ADSL dataset — export_adam_format","text":"data frame one row per patient, containing columns : STUDYID: Study identifier (patients value). USUBJID: Unique Subject ID (concatenation STUDYID subject ID). ID: Subject numeric ID (simulation). Country, Site: present input, included. Arm: Treatment arm. Age, Sex: Demographics. SeriousAE: Indicator serious adverse event occurrence (simulated). DropoutTime, Dropped: Dropout time status (simulated). EventTime, EventStatus: Time--event event occurrence flag (simulated). Outcome: Outcome value (continuous binary) simulated.","code":""},{"path":"https://jorales.github.io/clinical-trial-simulator-R/reference/export_adam_format.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Export an ADaM-style ADSL dataset — export_adam_format","text":"function gathers relevant patient-level information (demographics, treatment, dropouts, events, outcomes) single dataset. analogous creating ADSL (Subject-Level Analysis Dataset) clinical data standards. USUBJID generated combining study_id patient's ID. certain fields (like outcomes events) simulated, simply omitted contain NA.","code":""},{"path":"https://jorales.github.io/clinical-trial-simulator-R/reference/export_adam_format.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Export an ADaM-style ADSL dataset — export_adam_format","text":"","code":"df <- simulate_patients(5) df <- simulate_allocation(df) df <- simulate_survival(df, median_time_control = 6, hr = 0.8, study_duration = 12) df <- simulate_dropout(df, dropout_rate = 0.2, study_duration = 12, p_ae = 0.2, dropout_hr_ae = 2) df <- simulate_outcomes(df, outcome_type = \"continuous\", outcome_mean_control = 100, outcome_diff = -5) adsl <- export_adam_format(df, study_id = \"SIMStudy\") head(adsl) #>    STUDYID    USUBJID ID  Country  Site       Arm Age    Sex SeriousAE #> 1 SIMStudy SIMStudy-1  1 Country1 Site1   Control  44   Male     FALSE #> 2 SIMStudy SIMStudy-2  2 Country1 Site1 Treatment  57   Male      TRUE #> 3 SIMStudy SIMStudy-3  3 Country1 Site1   Control  41 Female     FALSE #> 4 SIMStudy SIMStudy-4  4 Country1 Site1   Control  45   Male     FALSE #> 5 SIMStudy SIMStudy-5  5 Country1 Site1 Treatment  41 Female     FALSE #>   DropoutTime Dropped  EventTime EventStatus  Outcome #> 1          NA   FALSE  0.5230485           1       NA #> 2          NA   FALSE  4.2377121           1       NA #> 3          NA   FALSE  3.2643457           1       NA #> 4          NA   FALSE 12.0000000           0 100.0792 #> 5          NA   FALSE  4.4673161           1       NA"},{"path":"https://jorales.github.io/clinical-trial-simulator-R/reference/simulate_allocation.html","id":null,"dir":"Reference","previous_headings":"","what":"Randomly allocate patients to treatment arms — simulate_allocation","title":"Randomly allocate patients to treatment arms — simulate_allocation","text":"function assigns patient treatment arm (e.g., control treatment) according specified allocation ratios.","code":""},{"path":"https://jorales.github.io/clinical-trial-simulator-R/reference/simulate_allocation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Randomly allocate patients to treatment arms — simulate_allocation","text":"","code":"simulate_allocation(   data,   arm_names = c(\"Control\", \"Treatment\"),   ratio = c(1, 1) )"},{"path":"https://jorales.github.io/clinical-trial-simulator-R/reference/simulate_allocation.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Randomly allocate patients to treatment arms — simulate_allocation","text":"data data frame patients (e.g., output simulate_patients). arm_names Character vector arm names. Default c(\"Control\",\"Treatment\") two-arm trial. ratio Numeric vector allocation ratios arm (length arm_names). Default c(1,1) equal allocation.","code":""},{"path":"https://jorales.github.io/clinical-trial-simulator-R/reference/simulate_allocation.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Randomly allocate patients to treatment arms — simulate_allocation","text":"input data frame added factor column Arm indicating treatment group patient.","code":""},{"path":"https://jorales.github.io/clinical-trial-simulator-R/reference/simulate_allocation.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Randomly allocate patients to treatment arms — simulate_allocation","text":"Allocation done simple random sampling. ratio vector normalized probabilities. arm receives patients chance (especially sample size small), Arm factor still include level (preserve arm levels).","code":""},{"path":"https://jorales.github.io/clinical-trial-simulator-R/reference/simulate_allocation.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Randomly allocate patients to treatment arms — simulate_allocation","text":"","code":"df <- simulate_patients(10) # Allocate patients equally to \"Placebo\" vs \"Drug\" arms df <- simulate_allocation(df, arm_names = c(\"Placebo\",\"Drug\"), ratio = c(1,1)) table(df$Arm) #>  #> Placebo    Drug  #>       6       4"},{"path":"https://jorales.github.io/clinical-trial-simulator-R/reference/simulate_dropout.html","id":null,"dir":"Reference","previous_headings":"","what":"Simulate dropouts (patient discontinuation) during the trial — simulate_dropout","title":"Simulate dropouts (patient discontinuation) during the trial — simulate_dropout","text":"function simulates dropout times patients, .e., patients prematurely leave study. can incorporate increased dropout hazard patients experiencing adverse event (AE), representing dropouts related side effects issues.","code":""},{"path":"https://jorales.github.io/clinical-trial-simulator-R/reference/simulate_dropout.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simulate dropouts (patient discontinuation) during the trial — simulate_dropout","text":"","code":"simulate_dropout(   data,   dropout_rate,   study_duration,   p_ae = 0,   dropout_hr_ae = 1 )"},{"path":"https://jorales.github.io/clinical-trial-simulator-R/reference/simulate_dropout.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Simulate dropouts (patient discontinuation) during the trial — simulate_dropout","text":"data data frame patients. Optionally includes columns adverse events others; required. dropout_rate Numeric 0 1, overall proportion patients expected drop end follow-(study duration). study_duration Numeric, length follow-(time units) trial. Required calibrating dropout times. p_ae Numeric 0 1, probability patient experiences certain serious adverse event can increase dropout risk (default = 0). dropout_hr_ae Numeric, hazard ratio dropout patient adverse event vs event (default = 1, meaning increase). example, 2.0 means patients AE drop twice hazard.","code":""},{"path":"https://jorales.github.io/clinical-trial-simulator-R/reference/simulate_dropout.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Simulate dropouts (patient discontinuation) during the trial — simulate_dropout","text":"input data frame additional columns: SeriousAE: Logical (TRUE/FALSE) indicating whether patient simulated adverse event. DropoutTime: time dropout dropped , NA patient drop study end. Dropped: Logical flag indicating patient dropped (TRUE) (FALSE) study_duration.","code":""},{"path":"https://jorales.github.io/clinical-trial-simulator-R/reference/simulate_dropout.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Simulate dropouts (patient discontinuation) during the trial — simulate_dropout","text":"Dropout times modeled exponential distribution. rate set dropout_rate patients (without special AE) drop study_duration (assuming exponential survival dropout). dropout_hr_ae > 1, patients adverse event higher dropout hazard. adverse event occurrence simulated independently patient probability p_ae. allows simulating dropouts related side effects (original feature present many packages). patients dropout_rate = 1 (100% dropout) assigned random dropout time study_duration. Patients experience event (e.g., death) prior dropping considered dropping (participation ended due event). function remove patients, subsequent analysis (e.g., ADSL) mark event time ignore dropout.","code":""},{"path":"https://jorales.github.io/clinical-trial-simulator-R/reference/simulate_dropout.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Simulate dropouts (patient discontinuation) during the trial — simulate_dropout","text":"","code":"df <- simulate_patients(5) df <- simulate_allocation(df) # Simulate 20% dropout rate by 12 months, with 10% having serious AEs doubling dropout hazard df <- simulate_dropout(df, dropout_rate = 0.2, study_duration = 12, p_ae = 0.1, dropout_hr_ae = 2) head(df[c(\"DropoutTime\",\"Dropped\",\"SeriousAE\")]) #>   DropoutTime Dropped SeriousAE #> 1    1.396007    TRUE     FALSE #> 2   10.062092    TRUE     FALSE #> 3          NA   FALSE      TRUE #> 4          NA   FALSE     FALSE #> 5          NA   FALSE      TRUE"},{"path":"https://jorales.github.io/clinical-trial-simulator-R/reference/simulate_longitudinal_outcomes.html","id":null,"dir":"Reference","previous_headings":"","what":"Simulate longitudinal outcome measurements — simulate_longitudinal_outcomes","title":"Simulate longitudinal outcome measurements — simulate_longitudinal_outcomes","text":"function generates longitudinal (repeated measures) outcomes patients given visit times. can incorporate treatment effects time -patient variability, including random site country effect simulate multi-level data.","code":""},{"path":"https://jorales.github.io/clinical-trial-simulator-R/reference/simulate_longitudinal_outcomes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simulate longitudinal outcome measurements — simulate_longitudinal_outcomes","text":"","code":"simulate_longitudinal_outcomes(   visits,   patients,   baseline_mean = 0,   baseline_sd = 1,   control_slope = 0,   treatment_slope = 0,   error_sd = 1,   cluster_var = NULL,   cluster_effect_sd = 0 )"},{"path":"https://jorales.github.io/clinical-trial-simulator-R/reference/simulate_longitudinal_outcomes.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Simulate longitudinal outcome measurements — simulate_longitudinal_outcomes","text":"visits data frame scheduled visits (e.g., output simulate_visits) least ID Time columns patient visit. patients patient data frame (simulate_patients subsequent steps) includes patient-level information treatment group possibly site country. baseline_mean Numeric, overall mean outcome baseline control patients (default = 0). baseline_sd Numeric, standard deviation baseline outcome patients (default = 1). control_slope Numeric, rate change outcome time control group (per unit time, default = 0 change). treatment_slope Numeric, additional rate change outcome time treatment group relative control (per unit time, default = 0). example, negative value indicates treatment group’s outcome improves (decreases) time relative control. error_sd Numeric, standard deviation measurement error intra-patient variability visit (default = 1). cluster_var Character, name clustering variable patients (e.g., \"Site\" \"Country\") multi-level outcomes. provided, random intercepts simulated cluster (default = NULL). cluster_effect_sd Numeric, standard deviation cluster-level random intercept (default = 0, meaning cluster effect).","code":""},{"path":"https://jorales.github.io/clinical-trial-simulator-R/reference/simulate_longitudinal_outcomes.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Simulate longitudinal outcome measurements — simulate_longitudinal_outcomes","text":"data frame longitudinal measurements patient visit. Columns include: ID: Patient ID. Time: Visit time. Arm: Treatment group patient (patients$Arm). Site (Country): columns exist patients, included reference. Outcome: Simulated outcome value visit time.","code":""},{"path":"https://jorales.github.io/clinical-trial-simulator-R/reference/simulate_longitudinal_outcomes.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Simulate longitudinal outcome measurements — simulate_longitudinal_outcomes","text":"outcome patient time t simulated : $$Outcome_{}(t) = B_{i0} + (\\beta_c + \\beta_t * (\\text{treatment}_i)) * t + \\epsilon_{}(t),$$ \\(B_{i0}\\) baseline outcome patient (including cluster effect), \\(\\beta_c\\) control group slope, \\(\\beta_t\\) additional treatment effect slope (total slope treatment = \\(\\beta_c + \\beta_t\\)), \\(\\epsilon_{}(t)\\) random measurement error SD = error_sd. cluster_var specified, cluster gets random intercept added \\(B_{i0}\\) (SD = cluster_effect_sd), introduces -cluster variability (original feature demonstrating multi-level data). Baseline outcomes (t=0) generated N(baseline_mean + cluster\\_offset, baseline_sd^2) patient. Set baseline_sd = 0 identical baseline values within cluster.","code":""},{"path":"https://jorales.github.io/clinical-trial-simulator-R/reference/simulate_longitudinal_outcomes.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Simulate longitudinal outcome measurements — simulate_longitudinal_outcomes","text":"","code":"df <- simulate_patients(2, countries = 1, sites_per_country = 2) df$Arm <- factor(c(\"Control\",\"Treatment\"), levels = c(\"Control\",\"Treatment\")) # Generate visits for baseline and time=10 for both patients visits <- simulate_visits(df, visit_times = c(0, 10)) # Simulate longitudinal outcome (no error for clarity, treatment improves outcome) visit_data <- simulate_longitudinal_outcomes(visits, df, baseline_mean = 100, baseline_sd = 0,                                   control_slope = 0, treatment_slope = -5, error_sd = 0,                                   cluster_var = \"Site\", cluster_effect_sd = 0) visit_data  # Patient 1 (Control) stays at 100; Patient 2 (Treatment) drops to 50 by time 10 #>   ID Time       Arm  Site  Country Outcome #> 1  1    0   Control Site2 Country1     100 #> 2  1   10   Control Site2 Country1     100 #> 3  2    0 Treatment Site1 Country1     100 #> 4  2   10 Treatment Site1 Country1      50"},{"path":"https://jorales.github.io/clinical-trial-simulator-R/reference/simulate_outcomes.html","id":null,"dir":"Reference","previous_headings":"","what":"Simulate a single outcome per patient (continuous or binary) — simulate_outcomes","title":"Simulate a single outcome per patient (continuous or binary) — simulate_outcomes","text":"function simulates endpoint (e.g., final outcome response) patient, continuous (e.g., lab measurement) binary (e.g., responder yes/). supports treatment effect optional cluster-level variability continuous outcomes.","code":""},{"path":"https://jorales.github.io/clinical-trial-simulator-R/reference/simulate_outcomes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simulate a single outcome per patient (continuous or binary) — simulate_outcomes","text":"","code":"simulate_outcomes(   data,   outcome_type = c(\"continuous\", \"binary\"),   outcome_mean_control = 0,   outcome_diff = 0,   outcome_sd = 1,   outcome_prob_control = 0.5,   outcome_prob_treatment = 0.5,   outcome_means = NULL,   outcome_probs = NULL,   cluster_var = NULL,   cluster_effect_sd = 0 )"},{"path":"https://jorales.github.io/clinical-trial-simulator-R/reference/simulate_outcomes.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Simulate a single outcome per patient (continuous or binary) — simulate_outcomes","text":"data data frame patients include treatment group column Arm (optional one group). outcome_type Character, either \"continuous\" \"binary\" (default = \"continuous\"). outcome_mean_control Numeric, mean continuous outcome control group (used outcome_type = \"continuous\", default = 0). outcome_diff Numeric, treatment effect outcome. continuous outcomes, added control mean treatment group(s). binary outcomes, ignored (use probabilities instead). Default = 0 (treatment effect). outcome_sd Numeric, standard deviation continuous outcome (default = 1). Ignored binary outcomes. outcome_prob_control Numeric, probability outcome = \"Yes\" control group (used outcome_type = \"binary\", default = 0.5). outcome_prob_treatment Numeric, probability outcome = \"Yes\" treatment group (used outcome_type = \"binary\" exactly two arms, default = 0.5). outcome_means Named numeric vector outcome means arm (optional alternative using outcome_mean_control outcome_diff). outcome_probs Named numeric vector outcome \"Yes\" probabilities arm (optional alternative using outcome_prob_control outcome_prob_treatment). cluster_var Character, name cluster variable data random effect (used continuous outcomes; e.g., \"Site\" site-level effect). cluster_effect_sd Numeric, standard deviation random effect clusters (continuous outcomes, default = 0).","code":""},{"path":"https://jorales.github.io/clinical-trial-simulator-R/reference/simulate_outcomes.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Simulate a single outcome per patient (continuous or binary) — simulate_outcomes","text":"input data frame new column Outcome. continuous outcomes, numeric. binary outcomes, factor levels \"\" \"Yes\". Patients dropped event outcome measurement assigned NA outcome.","code":""},{"path":"https://jorales.github.io/clinical-trial-simulator-R/reference/simulate_outcomes.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Simulate a single outcome per patient (continuous or binary) — simulate_outcomes","text":"continuous outcomes, multiple arms present outcome_means provided, values used arm's mean. Otherwise, outcome_mean_control used first arm (assumed control) outcome_diff added arms. random normal error SD outcome_sd added patient. cluster_var given (cluster_effect_sd > 0), random intercept per cluster added outcome simulate cluster-level variability. binary outcomes, two arms present, outcome_prob_control outcome_prob_treatment define success probabilities control treatment respectively (use outcome_probs multiple arms). outcome generated \"Yes\"/\"\" patient. patient dropped terminal event prior endpoint, outcome set NA (assuming missing data due dropout/death).","code":""},{"path":"https://jorales.github.io/clinical-trial-simulator-R/reference/simulate_outcomes.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Simulate a single outcome per patient (continuous or binary) — simulate_outcomes","text":"","code":"df <- simulate_patients(5) df <- simulate_allocation(df) # Continuous outcome: mean 50 in control, treatment +5 difference df <- simulate_outcomes(df, outcome_type = \"continuous\",                         outcome_mean_control = 50, outcome_diff = 5, outcome_sd = 10) # Binary outcome: 30% responders in control vs 60% in treatment df <- simulate_outcomes(df, outcome_type = \"binary\",                         outcome_prob_control = 0.3, outcome_prob_treatment = 0.6) head(df$Outcome) #> [1] No  Yes Yes Yes No  #> Levels: No Yes"},{"path":"https://jorales.github.io/clinical-trial-simulator-R/reference/simulate_patients.html","id":null,"dir":"Reference","previous_headings":"","what":"Simulate baseline patient demographics and site assignments — simulate_patients","title":"Simulate baseline patient demographics and site assignments — simulate_patients","text":"function simulates baseline dataset trial patients demographic information site/country assignments. patient assigned site (nested within country) given baseline characteristics age sex.","code":""},{"path":"https://jorales.github.io/clinical-trial-simulator-R/reference/simulate_patients.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simulate baseline patient demographics and site assignments — simulate_patients","text":"","code":"simulate_patients(   n,   countries = 1,   sites_per_country = 1,   mean_age = 50,   sd_age = 10,   prop_female = 0.5 )"},{"path":"https://jorales.github.io/clinical-trial-simulator-R/reference/simulate_patients.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Simulate baseline patient demographics and site assignments — simulate_patients","text":"n Integer, number patients simulate. countries Integer, number countries trial (default = 1). sites_per_country Integer, number sites per country (default = 1). Total sites = countries * sites_per_country. mean_age Numeric, mean age patients (default = 50). sd_age Numeric, standard deviation age (default = 10). prop_female Numeric, proportion patients female (default = 0.5).","code":""},{"path":"https://jorales.github.io/clinical-trial-simulator-R/reference/simulate_patients.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Simulate baseline patient demographics and site assignments — simulate_patients","text":"data frame n rows, representing patient. Columns include: ID: Patient identifier (integer). Country: Factor indicating country (e.g., \"Country1\", \"Country2\", ...). Site: Factor indicating site (e.g., \"Site1\", \"Site2\", ...). Age: Patient age (years). Sex: Patient sex (factor levels \"Female\",\"Male\").","code":""},{"path":"https://jorales.github.io/clinical-trial-simulator-R/reference/simulate_patients.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Simulate baseline patient demographics and site assignments — simulate_patients","text":"site assignments distributed roughly equally among sites. Age drawn normal distribution bounded 18 90. Sex assigned according specified proportion females. function typically first step simulation workflow.","code":""},{"path":"https://jorales.github.io/clinical-trial-simulator-R/reference/simulate_patients.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Simulate baseline patient demographics and site assignments — simulate_patients","text":"","code":"# Simulate 5 patients in 2 countries with 2 sites each df <- simulate_patients(n = 5, countries = 2, sites_per_country = 2) head(df) #>   ID  Country  Site Age    Sex #> 1  1 Country2 Site3  62 Female #> 2  2 Country1 Site1  71 Female #> 3  3 Country2 Site4  57 Female #> 4  4 Country2 Site4  57   Male #> 5  5 Country1 Site2  39 Female"},{"path":"https://jorales.github.io/clinical-trial-simulator-R/reference/simulate_survival.html","id":null,"dir":"Reference","previous_headings":"","what":"Simulate time-to-event (survival) outcomes — simulate_survival","title":"Simulate time-to-event (survival) outcomes — simulate_survival","text":"function simulates survival time (e.g., time event censoring) patient, option specify treatment effect hazard. assumes exponential survival distribution simplicity.","code":""},{"path":"https://jorales.github.io/clinical-trial-simulator-R/reference/simulate_survival.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simulate time-to-event (survival) outcomes — simulate_survival","text":"","code":"simulate_survival(data, median_time_control, hr = 1, study_duration = NULL)"},{"path":"https://jorales.github.io/clinical-trial-simulator-R/reference/simulate_survival.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Simulate time-to-event (survival) outcomes — simulate_survival","text":"data data frame patients includes treatment group column (typically Arm simulate_allocation). Arm column present one level, patients treated single group. median_time_control Numeric, median event time control group (e.g., median survival control arm). hr Numeric named numeric vector specifying hazard ratios treatment arms relative control. single numeric given (default = 1), exactly two arms exist, interpreted hazard ratio treatment arm vs control. multiple arms named vector provided, arm's hazard adjusted accordingly (control arm hazard ratio 1). study_duration Numeric, maximum follow-time (e.g., study end time units). provided, events beyond time censored study_duration. (Default = NULL, meaning administrative censoring apart later dropout handling.)","code":""},{"path":"https://jorales.github.io/clinical-trial-simulator-R/reference/simulate_survival.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Simulate time-to-event (survival) outcomes — simulate_survival","text":"input data frame two new columns: EventTime: Simulated event time censoring time. EventStatus: Event occurrence indicator (1 = event occurred, 0 = censored end follow-).","code":""},{"path":"https://jorales.github.io/clinical-trial-simulator-R/reference/simulate_survival.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Simulate time-to-event (survival) outcomes — simulate_survival","text":"Exponential survival times generated. control arm event rate derived median_time_control (rate = log(2)/median). Hazard ratios < 1 indicate longer survival treatment arms (reduced hazard). multiple arms, provide hazard ratios named vector (names matching Arm levels; control arm can omitted set 1). Arm column present data, patients assumed share baseline hazard.","code":""},{"path":"https://jorales.github.io/clinical-trial-simulator-R/reference/simulate_survival.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Simulate time-to-event (survival) outcomes — simulate_survival","text":"","code":"df <- simulate_patients(100) df <- simulate_allocation(df) # Simulate survival with median 12 months in control, and hazard ratio 0.75 for treatment df <- simulate_survival(df, median_time_control = 12, hr = 0.75, study_duration = 24) head(df[c(\"Arm\",\"EventTime\",\"EventStatus\")]) #>         Arm EventTime EventStatus #> 1   Control  11.67065           1 #> 2   Control  24.00000           0 #> 3   Control  24.00000           0 #> 4   Control  10.11397           1 #> 5 Treatment  24.00000           0 #> 6 Treatment  24.00000           0"},{"path":"https://jorales.github.io/clinical-trial-simulator-R/reference/simulate_visits.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate scheduled visits for each patient — simulate_visits","title":"Generate scheduled visits for each patient — simulate_visits","text":"function creates dataset planned visit times patient, taking account censoring due dropouts events. patient drops event (e.g., death), visits generated.","code":""},{"path":"https://jorales.github.io/clinical-trial-simulator-R/reference/simulate_visits.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate scheduled visits for each patient — simulate_visits","text":"","code":"simulate_visits(data, visit_times)"},{"path":"https://jorales.github.io/clinical-trial-simulator-R/reference/simulate_visits.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate scheduled visits for each patient — simulate_visits","text":"data data frame patients. data contains DropoutTime/Dropped /EventTime/EventStatus columns, used censor visits. visit_times Numeric vector planned visit times (time units simulation outputs). example, c(0, 3, 6, 9, 12) monthly visits year (time months). Include 0 baseline.","code":""},{"path":"https://jorales.github.io/clinical-trial-simulator-R/reference/simulate_visits.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate scheduled visits for each patient — simulate_visits","text":"data frame one row per patient per scheduled visit (censoring point). Columns: ID: Patient ID (matching data$ID). Time: Scheduled visit time.","code":""},{"path":"https://jorales.github.io/clinical-trial-simulator-R/reference/simulate_visits.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Generate scheduled visits for each patient — simulate_visits","text":"function expands patient data visit time, omits visits occur patient dropped experienced terminal event. neither dropout event information present, specified visit_times returned patient.","code":""},{"path":"https://jorales.github.io/clinical-trial-simulator-R/reference/simulate_visits.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate scheduled visits for each patient — simulate_visits","text":"","code":"df <- simulate_patients(3) df$Dropped <- c(FALSE, TRUE, FALSE) df$DropoutTime <- c(NA, 5, NA) df$EventStatus <- c(0, 0, 1) df$EventTime <- c(NA, NA, 5) simulate_visits(df, visit_times = c(0, 5, 10)) #>   ID Time #> 1  1    0 #> 2  1    5 #> 3  1   10 #> 4  2    0 #> 5  3    0"}]
