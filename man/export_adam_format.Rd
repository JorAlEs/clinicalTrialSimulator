% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/export_adam_format.R
\name{export_adam_format}
\alias{export_adam_format}
\title{Export an ADaM-style ADSL dataset}
\usage{
export_adam_format(data, study_id = "STUDY1")
}
\arguments{
\item{data}{A data frame containing patient-level data (after simulation of allocation, outcomes, etc.). This typically would be the data frame after calling the simulation functions.}

\item{study_id}{Character, an identifier for the study (used to construct \code{STUDYID} and \code{USUBJID}). Default is "STUDY1".}
}
\value{
A data frame with one row per patient, containing columns such as:
\itemize{
  \item \code{STUDYID}: Study identifier (all patients have the same value).
  \item \code{USUBJID}: Unique Subject ID (concatenation of STUDYID and subject ID).
  \item \code{ID}: Subject numeric ID (from simulation).
  \item \code{Country}, \code{Site}: If present in input, these are included.
  \item \code{Arm}: Treatment arm.
  \item \code{Age}, \code{Sex}: Demographics.
  \item \code{SeriousAE}: Indicator of serious adverse event occurrence (if simulated).
  \item \code{DropoutTime}, \code{Dropped}: Dropout time and status (if simulated).
  \item \code{EventTime}, \code{EventStatus}: Time-to-event and event occurrence flag (if simulated).
  \item \code{Outcome}: Outcome value (continuous or binary) if simulated.
}
}
\description{
This function compiles the subject-level data into a format analogous to an ADaM ADSL dataset (one record per subject). It includes key baseline and outcome variables for each patient.
}
\details{
This function gathers all relevant patient-level information (demographics, treatment, dropouts, events, outcomes) into a single dataset. It is analogous to creating an ADSL (Subject-Level Analysis Dataset) in clinical data standards. The \code{USUBJID} is generated by combining \code{study_id} and the patient's \code{ID}. If certain fields (like outcomes or events) were not simulated, they will simply be omitted or contain NA.
}
\examples{
df <- simulate_patients(5)
df <- simulate_allocation(df)
df <- simulate_survival(df, median_time_control = 6, hr = 0.8, study_duration = 12)
df <- simulate_dropout(df, dropout_rate = 0.2, study_duration = 12, p_ae = 0.2, dropout_hr_ae = 2)
df <- simulate_outcomes(df, outcome_type = "continuous", outcome_mean_control = 100, outcome_diff = -5)
adsl <- export_adam_format(df, study_id = "SIMStudy")
head(adsl)

}
